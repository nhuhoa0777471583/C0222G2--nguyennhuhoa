<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <style>
        body {
            background-color: #e1e5e1;
        }
    </style>
    <title>Title</title>
</head>
<body>

<div class="container-fluid">
    <div class="row">
        <div class="col-12" style="text-align: center;font-size: 50px">
            Quản Lí Danh Sách Laptop
        </div>
    </div>
    <br>
    <div class="row">

    </div>
    <div class="row" class="border">
        <div class="col-1"></div>
        <div class="col-3"><input class="form-control" type="text" id="addName" placeholder="Nhập tên sản phẩm"
                                  style="width: 100%"></div>
        <div class="col-2"><input class="form-control" type="text" id="addSize" placeholder="Nhập size sản phẩm"
                                  style="width: 100%"></div>
        <div class="col-2"><input class="form-control" type="text" id="addPrice" placeholder="Nhập giá sản phẩm"
                                  style="width: 100%"></div>
        <div class="col-2">
            <button type="button" class="btn btn-primary btn-sm" onclick="addProduct()">Thêm</button>
        </div>
        <div class="col-2"></div>
    </div>
    <div class="row" style="height: 40px">
        <div class="col-1"><strong>STT</strong></div>
        <div class="col-3"><strong>Tên sản phẩm</strong></div>
        <div class="col-2"><strong>Size</strong></div>
        <div class="col-2"><strong>Giá</strong></div>
        <div class="col-2"><strong>Sửa</strong></div>
        <div class="col-2"><strong>Xóa</strong></div>
    </div>
    <div id="screen">
        <div class="row">
            <div class="col-1"></div>
            <div class="col-3"></div>
            <div class="col-2"></div>
            <div class="col-2"></div>
            <div class="col-2"></div>
            <div class="col-2"></div>
        </div>
    </div>

</div>
<script>
    class Laptop {
        constructor(nameLaptop, size, price) {
            this.nameLaptop = nameLaptop;
            this.size = size;
            this.price = price;
        }

        getName() {
            return this.nameLaptop;
        }

        getSize() {
            return this.size;
        }

        getPrice() {
            return this.price;
        }

        setName(nameLaptop) {
            this.nameLaptop = nameLaptop;
        }

        setSize(size) {
            this.size = size;
        }

        setPrice(price) {
            this.price = price;
        }
    }

    // class ListProduct extends Laptop{
    //     constructor(nameLaptop,size,price,add, edit, remove) {
    //         super( nameLaptop ,size,price)
    //         this.add = add;
    //         this.edit = edit;
    //         this.remove = remove;
    //         this.laptop = null;
    //     }
    //     addLaptop(laptop){
    //         this.laptop = laptop;
    //         this.laptop.setName();
    //         this.laptop.getSize();
    //         this.laptop.getPrice();
    //     }
    //     editLaptop(laptop){
    //         this.laptop = laptop;
    //         this.laptop.setName();
    //         this.laptop.setSize();
    //         this.laptop.setPrice();
    //     }
    //     removeLaptop(laptop){
    //         this.laptop=laptop;
    //     }
    // }
    //
    // let listProduct = new ListProduct();

    let laptop = [];
    laptop[0] = new Laptop('Asus', '14inch', '10tr');
    laptop[1] = new Laptop('Lenovo', '15inch', '25tr');
    laptop[2] = new Laptop('Apple', '13inch', '20tr');

    function addProduct() {
        let nameLaptop = document.getElementById('addName').value
        let sizeLaptop = document.getElementById('addSize').value
        let priceLaptop = document.getElementById('addPrice').value
        if (nameLaptop !== "" && sizeLaptop !== "" && priceLaptop !== "") {
            laptop[laptop.length] = new Laptop(nameLaptop, sizeLaptop, priceLaptop);
        } else {
            alert('Vui lòng nhập đủ thông tin sản phẩm');
        }
        document.getElementById('addName').value = "";
        document.getElementById('addSize').value = "";
        document.getElementById('addPrice').value = "";
        display();
    }

    display();

    function display() {
        let screen = "";
        screen += ""

        for (let i = 0; i < laptop.length; i++) {
            screen += "<div id='change" + i + "' style='height: 40px'>" +
                "<div class=\"row\">\n" +
                "        <div class=\"col-1\">" + (i + 1) + "</div>\n" +
                "        <div class=\"col-3\" id='colNameID" + i + "'>" + laptop[i].getName() + "</div>\n" +
                "        <div class=\"col-2\" id='colSizeID" + i + "'>" + laptop[i].getSize() + "</div>\n" +
                "        <div class=\"col-2\" id='colPriceID" + i + "'>" + laptop[i].getPrice() + " </div>\n" +
                "        <div class=\"col-2\"><button type=\"button\" class=\"btn btn-warning btn-sm \" onclick='editProduct(" + i + ")'>Sửa</button></div>\n" +
                "        <div class=\"col-2\"><button type=\"button\" class=\"btn btn-danger btn-sm \" onclick='deleteProduct(" + i + ")'>Xóa</button></div>\n" +
                "    </div>" +
                "</div>"
        }
        document.getElementById('screen').innerHTML = screen;
    }


    function editProduct(id) {

        let screen = "<div class=\"row\">\n" +
            "        <div class=\"col-1\">" + (id + 1) + "</div>\n" +
            "        <div class=\"col-3\" id='colNameID" + id + "'><input id='newName" + id + "' value='" + laptop[id].getName() + "'></div>\n" +
            "        <div class=\"col-2\" id='colSizeID" + id + "'><input id='newSize" + id + "' value='" + laptop[id].getSize() + "'></div>\n" +
            "        <div class=\"col-2\" id='colPriceID" + id + "'><input id='newPrice" + id + "' value='" + laptop[id].getPrice() + "'></div>\n" +
            "        <div class=\"col-2\"><button type=\"button\" class=\"btn btn-success btn-sm\" onclick='confirmChange(" + id + ")'>Xác Nhận</button></div>\n" +
            "        <div class=\"col-2\"><button type=\"button\" class=\"btn btn-secondary btn-sm\" onclick='cancelChange(" + id + ")'>Hủy</button></div>\n" +
            "    </div>"
        document.getElementById('change' + id + '').innerHTML = screen;

    }

    function confirmChange(id) {
        let newName = document.getElementById('newName' + id + '').value;
        let newSize = document.getElementById('newSize' + id + '').value;
        let newPrice = document.getElementById('newPrice' + id + '').value;
        laptop[id].setName(newName);
        laptop[id].setSize(newSize);
        laptop[id].setPrice(newPrice);
        display()
    }

    function cancelChange() {
        display()
    }

    function deleteProduct(id) {
        if (confirm('xóa sản phẩm: ' + laptop[id].getName())) {
            laptop.splice(id, 1);
        }
        display();
    }
</script>
</body>
</html>