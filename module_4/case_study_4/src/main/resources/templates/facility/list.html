<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <th:block th:replace="~{layout :: style }"></th:block>

</head>
<body>
<nav th:replace="~{layout :: nav}"></nav>

<div class="container" style="margin-top: 10%">
    <div class="row">
        <aside class="col-xl-12">
            <div>
                <h2>Service <b>Details</b></h2>
                <div style="color: red" th:if="${msg}">
                    <p th:text="${msg}"></p>
                </div>




                <div class="row">
                    <div class="col col-sm-3 col-xs-12">
                        <a th:href="@{/facility/save}">
                            <button type="submit" class="btn btn-info add-new">
                                <i class="fa fa-plus"></i> Add New
                            </button>
                        </a>
                    </div>
                    <div class="col-sm-4 col-xs-12">
                        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                        <button class="btn btn-primary my-2 my-sm-0" type="button">Search</button>
                    </div>

                </div>

            </div>
            <table id="dtBasicExample" class="table table-hover">
                <thead>
                <tr class="table-danger">
                    <td>#</td>
                    <td>name service</td>
                    <td>area</td>
                    <td>cost</td>
                    <td>max peoplea</td>
                    <td>standard_room</td>
                    <td>description</td>
                    <td>pool area</td>
                    <td>number of floors</td>
                    <td>facility_free</td>
                    <td>rent type</td>
                    <td>service type</td>
                    <td colspan="2">Action</td>

                </tr>
                </thead>
                <tbody>
                <tr th:each="f,loop: ${facility}">
                    <td th:text="${loop.count + facility.number * facility.size}"></td>
                    <td th:text="${f.getName()}"></td>
                    <td th:text="${f.getArea()}"></td>
                    <td th:text="${f.getCost()}"></td>
                    <td th:text="${f.getMaxPeople()}"></td>
                    <td th:text="${f.getStandardRoom()}"></td>
                    <td th:text="${f.getDescriptionOtherConvenience()}"></td>
                    <td th:text="${f.getPoolArea()}"></td>
                    <td th:text="${f.getNumberOfFloars()}"></td>
                    <td th:text="${f.getFacilityFree()}"></td>
                    <td th:text="${f.getRentType().name}"></td>
                    <td th:text="${f.getFacilityType().name}"></td>
                    <td><a th:href="@{/facility/edit/{id}(id=${f.getId()})}">Edit</a></td>
                    <td>
                        <!-- Button trigger modal -->
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                th:data-bs-target="'#exampleModal'+${f.id}">
                            Delete
                        </button>

                        <!-- Modal -->
                        <div class="modal fade" th:id="'exampleModal'+${f.id}" tabindex="-1"
                             aria-labelledby="exampleModalLabel"
                             aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-body">
                                        <p> Do you want delete service have id is
                                        <p class="text-danger" th:text="${f.getId}"></p> have name service is <p
                                            class="text-danger" th:text="${f.getName()}"></p></p>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close
                                        </button>
                                        <form th:action="@{/facility/delete/{id}(id=${f.getId()})}">
                                            <button type="submit" class="btn btn-primary">Yes</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </td>
                </tr>
                </tbody>
            </table>
            <!--phan trang-->

            <nav aria-label="Page navigation example">
                <ul class="pagination justify-content-end" th:if="${facility.totalPages > 0}">
                    <li class="page-item">
                        <a class="page-link" th:if="${facility.hasPrevious()}"
                           th:href="@{'/facility/home'(page=${facility.number - 1})}">
                            <<
                        </a>
                    </li>
                    <div th:each="item1, loop : ${#numbers.sequence(1, facility.totalPages )}">
                        <div th:if="${(facility.number + 1) == item1}">
                            <li class="page-item active">
                                <a class="page-link" href="#" th:text="${item1}"
                                   th:href="@{/facility/home(page=(${item1}-1))}"></a>
                            </li>
                        </div>
                        <div th:unless="${((facility.number + 1) == item1)}">
                            <li class="page-item">
                                <a class="page-link" href="#" th:text="${item1}"
                                   th:href="@{/facility/home(page=(${item1}-1))}"></a>
                            </li>
                        </div>
                    </div>
                    <li class="page-item">
                        <a class="page-link" th:if="${facility.hasNext()}"
                           th:href="@{'/facility/home'(page=${facility.number + 1})}">
                            >>
                        </a>
                    </li>
                </ul>
            </nav>


        </aside>
    </div>
</div>

<footer th:replace="~{layout ::footer}"></footer>

<th:block th:replace="~{layout :: cdn}"></th:block>

</body>
</html>